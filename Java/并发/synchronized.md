# synchronized
synchronized 是 Java 中的关键字，是利用锁的机制来实现同步的。

锁机制有如下两种特性：
* 互斥性：即在同一时间只允许一个线程持有某个对象锁
* 可见性：必须确保在锁被释放之前，对共享变量所做的修改，对于随后获得该锁的另一个线程是可见的

## 对象锁和类锁

### 对象锁

在 Java 中，每个对象都会有一个 monitor 对象，这个对象其实就是 Java 对象的锁，通常会被称为“内置锁”或“对象锁”。类的对象可以有多个，所以每个对象有其独立的对象锁，互不干扰。

* synchronized(this|object) {}

* 修饰非静态方法

### 类锁

在 Java 中，针对每个类也有一个锁，可以称为“类锁”，类锁实际上是通过对象锁实现的，即类的 Class 对象锁。每个类只有一个 Class 对象，所以每个类只有一个类锁。

* synchronized(类.class) {}
* 修饰静态方法

## 总结
1. 多个线程获取同一个对象锁，同步部分(对象的同步非静态方法、通过代码块)同步执行；
2. 多个线程获取不同的对象锁，同一个类的不同对象的对象锁互不干扰；
3. 对象锁和类锁是独立的，湖北干扰，可以理解为类锁是类的class对象锁，和普通对象










