# 网络五层模型
在这互联网中，计算机与计算机之间的数据传送，主要是基于各种“协议”串联起来的。对于互联网数据传送的分层模型，有分成七层的，有分成5层的，还有分成4层的。例如分成七层模型的如下(从上到下)：
* 应用层
* 表示层
* 会话层
* 传输层
* 网络层
* 数据链路层
* 物理层
## 物理层
物理层负责把两台计算机连起来，然后在计算机之间传送0,1这样的电信号。

## 数据链路层
物理层它只是单纯着负责在计算机之间传输0，1这样的电信号。假如这些0，1组合的传送毫无规则，计算机是解读不了的。**数据链路层工作在物理层之上，负责给这些0，1制定传送的规则，然后另一方再按照相应的规则来进行解读。**

### 以太网协议
以太网协议规定，一组电信号构成一个数据包，把这个数据包称之为“桢”。每一个桢由标头(Head)和数据(Data)两部分组成。一个桢的长度是64~1518个字节，标头部分的字节是固定的，并且固定为18个字节。

### MAC地址
把一台计算的的数据通过物理层和链路层发送给另一台计算机，计算机与计算机之间如何区分，你总得给他们一个唯一的标识吧？

这就是MAC地址，连入网络的每一个计算机都会有网卡接口，每一个网卡都会一个地址，这个地址就叫做MAC地址。计算机之间的数据传送，就是通过MAC地址来唯一寻找、传送的。MAC地址在网卡生产是就被唯一标识了。

### 广播与ARP协议
计算机A要向计算机B发送数据，若计算机A知道计算机B的MAC地址，但是计算机A也连在很多其他的计算机，计算机A是通过广播的方式把数据发送给计算机B。在同一个子网中，计算机A要向计算机B发送一个数据包，这个数据包包含接收者的MAC地址。这个时候同一个子网中的计算机C,D也会收到这个数据包的，然后收到这个数据包的计算机，会把数据包的MAC地址取出来，与自身的MAC地址对比，如果两者相同，则接受这个数据包，否则就丢弃这个数据包。
计算机A是如何知道计算机B的MAC地址的呢？这个时候就得由ARP协议这个家伙来解决了，通过它我们可以知道**子网**中其他计算机的MAC地址。

### 网络层

说到子网这个关键词，实际上我们所处的网络，是由无数个子网络构成的。广播的时候，也只有同一个子网里面的计算机能够收到。 假如没有子网这种划分的话，计算机A发一个数据包给计算机B,其他所有计算机也都能收到这个数据包，然后进行对比再舍弃。世界上有那么多它计算机，每一台计算机都能收到其他所有计算机的数据包，那就不得了了。

我们如何区分哪些MAC地址是属于同一个子网的呢？假如是同一个子网，那我们就用广播的形式把数据传送给对方，如果不是同一个子网的，我们就会把数据发给网关，让网关进行转发。

为了解决这个问题我们引入了一套新的地址协议，这个地址协议能够帮助我们区分MAC地址是否处于同一个子网中。这也是网络层负责解决的问题。

#### IP协议
这个协议就是IP协议，它所定义的地址，我们称之为IP地址。IP协议有两种版本，一种是IPv4,另一种是IPv6。

IP地址由32为的二进制数组成，我们一般把它分成4段的十进制表示，地址范围为0.0.0.0~255.255.255.255

每一台想要联网的计算机都会有一个IP地址。这个IP地址被分为两部分，前面一部分代表网络部分，后面一部分代表主机部分。并且网络部分和主机部分的二进制位数是不固定的。两台计算机的网络部分是一模一样的，我们就说这两台计算机是处于同一个子网中。子码掩码。子码掩码和IP地址一样也是32位二进制数，不过它的网络部分规定全部为1，主机部分规定全部为0.


#### ARP协议
有了两台计算机的IP地址，我们就可以判断出它们是否处于同一个子网之中。 假如他们处于同一个子网之中，计算机A要给计算机B发送数据时。我们可以通过ARP协议来得到计算机B的MAC地址。ARP协议也是通过广播的形式给同一个子网中的每台电脑发送一个数据包(当然，这个数据包会包含接收方的IP地址)。对方收到这个数据包之后，会取出IP地址与自身的对比，如果相同，则把自己的MAC地址回复给对方，否则就丢弃这个数据包。这样，计算机A就能知道计算机B的MAC地址了。

怎么区分广播是传送数据还是要询问MAC地址，询问MAC地址的数据包中，在对方的MAC地址这一栏中，填的是一个特殊的MAC地址。

假如两台计算机的IP不是处于同一个子网之中，这个时候，我们就会把数据包发送给网关，然后让网关让我们进行转发传送。

如何知道对方计算机的IP地址，DNS服务器来进行域名解析。

### 传输层

数据成功从计算机A传送到计算机B了，可是，计算机B里面有各种各样的应用程序，指定一个端口，以供特定的应用程序来接受处理。传输层的功能就是建立端口到端口的通信。相比网络层的功能是建立主机到主机的通信。


